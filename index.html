<!DOCTYPE html>
<html>
<head>
<title>Admin Dashboard</title>
<style>
body{margin:0;font-family:Arial;background:#f4f6fb;display:flex;}
.sidebar{width:250px;background:#fff;height:100vh;padding:30px;border-right:1px solid #eee;}
.sidebar h2{color:#2557a7;}
.main{flex:1;padding:40px;}
button{padding:8px 12px;background:#2557a7;color:#fff;border:none;cursor:pointer;}
.card{background:#fff;padding:20px;border-radius:8px;margin-bottom:20px;}
</style>
</head>
<body>

<div class="sidebar">
<h2>HireFlow Admin</h2>
<button onclick="logout()">Logout</button>
</div>

<div class="main">
<h1>Admin Dashboard</h1>

<div class="card">
<h3>Protected Dashboard</h3>
<p>You are logged in as Admin.</p>
</div>

</div>

<script>
const API = "https://backend-1-9b6f.onrender.com";

// üîê Check Authentication
function checkAuth() {
  const token = localStorage.getItem("token");

  if (!token) {
    window.location.href = "login.html";
    return;
  }

  const payload = JSON.parse(atob(token.split('.')[1]));

  if (payload.role !== "admin") {
    alert("Access denied.");
    localStorage.removeItem("token");
    window.location.href = "login.html";
  }
}

function logout(){
  localStorage.removeItem("token");
  window.location.href="login.html";
}

checkAuth();
</script>

</body>
</html>
